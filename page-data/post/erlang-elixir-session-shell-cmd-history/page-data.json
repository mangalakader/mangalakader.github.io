{"componentChunkName":"component---src-templates-blog-post-js","path":"/post/erlang-elixir-session-shell-cmd-history/","result":{"data":{"markdownRemark":{"html":"<h3>To Enable erlang / elixir shell history across sessions:</h3>\n<p>There are lot of tutorials out there illustrating how to enable persistent shell history in erlang / elixir, one such\nexample is found <a href=\"https://www.adiiyengar.com/blog/20180503/iex-shell-history\">here</a> , so I am not going to elaborate it here.</p>\n<h2>What if you wanted to delete your shell history:</h2>\n<p>There are not many examples as to how to delete them, once they saved. People have even suggested to disable the shell\nhistory and re-enable them, which do not help. The saved history is persisted even then. Let's check the history, how\nshell history is collected.</p>\n<h2>Prior to OTP 20:</h2>\n<p>There was this little erlang package <code>erlang-history</code> written by a brilliant mind known as <a href=\"https://github.com/ferd\">Fred Hebert</a>,\nwhich helped people save their erlang shell history, but later that package was integrated into main erlang OTP package and\nit is being used by everyone using erlang / elixir.</p>\n<h2>Later one day, I had this annoying error commands showing up in history:</h2>\n<p>I searched for hours trying to find a solution to erase the previously saved history, but they were invasive. So I decided to\ngo in deep and explore where it is saved by default, it is done using the <code>group_history</code> module in <code>kernel</code>. <strong>Lucky, are\nthose, who had enabled the history with a file name, for them they can just delete or clean the file. But for those, who stick\nto the defaults, just delete the <code>$HOME/.cache/erlang-history/*</code> or if you are looking for non-invasive solution, you got it...</strong></p>\n<p>The <code>group_history</code> module exported just two functions, namely: <code>add/1, load/0</code></p>\n<pre><code class=\"language-ex\"># I am using elixir to illustrate the examples. The same commands can be done via erlang too...\niex(1)> :group_history.load()\n[':group_history.load()\\n', 'group_history:load().\\n']\n\nThe above command gives out all the history that it had saved from beginning of time. Ooooo, even your practice commands too...\n</code></pre>\n<p>After a huge exploration, Fred was saving the history using <code>disk_log</code> module, that is when I found a way to clean the saved history.\nIf you type the below command:</p>\n<pre><code class=\"language-ex\">iex(2)> :disk_log.accessible_logs()\n{[:\"$#group_history\"], []}\n</code></pre>\n<p>That's our guy who is saving all of our history, now to clean up the history use the below command:</p>\n<pre><code class=\"language-ex\">iex(3)> :disk_log.truncate(:\"$#group_history\")\n:ok\n</code></pre>\n<p>That's all Folks! We are free from our erlang / elixir shell history.</p>","frontmatter":{"title":"Delete Saved Shell Cmd History in Erlang / Elixir","date":"30 July, 2018"},"excerpt":"To Enable erlang / elixir shell history across sessions: There are lot of tutorials out there illustrating how to enable persistent shellâ€¦"}},"pageContext":{"slug":"/erlang-elixir-session-shell-cmd-history/","prev":{"fields":{"slug":"/own-github-pages-part-2/"},"frontmatter":{"published":true}},"next":{"fields":{"slug":"/add-yourself-to-sudoers/"},"frontmatter":{"published":true}}}},"staticQueryHashes":["63159454"]}