<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en">
    <head itemscope itemtype="https://mangalakader.github.io">
        <meta name="google-site-verification" content="zbY1XBwjYLe6aeNN808FhPJMrqimMq1LEG2wU8Kot5w" />
<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />
<title itemprop="name">Mangala Kader | systemd-nspawn - Containerization - Part 2</title>
<meta property="og:title" content="systemd-nspawn - Containerization - Part 2" />
<meta itemprop="name" content="systemd-nspawn - Containerization - Part 2" />
<meta name="application-name" content="systemd-nspawn - Containerization - Part 2" />
<meta property="og:site_name" content="Online Portfolio" />



<meta itemprop="image" content="https://source.unsplash.com/600x900?technology-1934" />
<meta property="og:image" content="https://source.unsplash.com/600x900?technology-1934" />

<base href="https://mangalakader.github.io/post/systemd-nspawn-container-musings-part-2/">
<link rel="canonical" href="https://mangalakader.github.io/post/systemd-nspawn-container-musings-part-2/" itemprop="url" />
<meta name="url" content="https://mangalakader.github.io/post/systemd-nspawn-container-musings-part-2/" />
<meta property="og:url" content="https://mangalakader.github.io/post/systemd-nspawn-container-musings-part-2/" />
<meta property="og:locale" content="en">
<meta name="language" content="en">
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

        <meta name="keywords" content="til, systemd, nspawn, systemd-nspawn, linux, unix, script, containers, development" />
        <meta name="description" content="" />
        <meta itemprop="description" content="" />
        <meta property="og:description" content="" />
    </head>
    <body>
        <div class="progress-container fixed-top">
            <span class="progress-bar"></span>
        </div>
        <nav class="slide-in-blurred-top navbar navbar-expand-lg navbar-light bg-transparent fixed-top">
  <div class="container-fluid px-0">
    <a class="navbar-brand logo text-focus-in ms-3 mt-3" href="/">PMK</a>
    <button class="bg-warning rounded-start border-0 mt-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight"><i class="bi bi-chevron-double-left"></i>&nbsp;&nbsp;Menu</button>
  </div>

  <div class="offcanvas offcanvas-end bg-warning bg-warning-gradient" tabindex="-1" data-bs-scroll="true" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel" class="fw-bold">Menu</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="container-fluid p-0">
        <ul class="list-group list-group-flush">
          <a href="/"><li class="list-group-item">Home</li></a>
          <a href="/blog"><li class="list-group-item">Blog</li></a>
          <a href="/tags"><li class="list-group-item">Tags</li></a>
          <a href="/index.xml"><li class="list-group-item">RSS</li></a>
        </ul>
      </div>
    </div>
  </div>
</nav>

        <div id="title" class="container-fluid bg-warning bg-warning-gradient p-5">
            <h2 class="text-dark text-center p-3 p-lg-5">systemd-nspawn - Containerization - Part 2</h2>
            <h5 class="text-dark text-center">Nov 28, 2020</h5>
        </div>
        <div id="content" class="text-white container-fluid bg-dark bg-dark-gradient p-5 post-container">
            <h2 id="recap">Recap:</h2>
<p>In the last part of the series, we saw how to configure the network in host for containers and learnt how to pull images using <code>machinectl</code>. If you haven&rsquo;t gone through that first, please do so.</p>
<h2 id="before-booting-your-container-for-the-first-time">Before Booting your container for the first time:</h2>
<p>I&rsquo;m using an cloud based ubuntu image, as it provides cloud-init support, which lets me configure my container during the boot itself. I&rsquo;m not going to go into the details of cloud-init, but I&rsquo;ll give you some idea about minimising full-blown cloud setup.</p>
<p>Also, you can feel familiar with cloud vendors system startup by using the cloud based images.</p>
<h2 id="cloud-init">cloud-init:</h2>
<p>By default, if you don&rsquo;t configure cloud-init, it will try to hit and reach many cloud vendors looking for source configuration, which can take an awful lot of time approximately upto 40 minutes. We&rsquo;ll see how to disable that:</p>
<ul>
<li>create a file named <code>ds-identity.cfg</code> with the following contents</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">datasource</span>: <span style="color:#ae81ff">NoCloud</span>
<span style="color:#f92672">policy</span>: <span style="color:#ae81ff">search,found=first,maybe=none,notfound=disabled</span>
</code></pre></div><p>This file is telling the cloud-init to use the datasource as <code>NoCloud</code>, which will not do any lookup with cloud vendors</p>
<ul>
<li>create a folder <code>nocloud</code> and put three files in them, namely:
<ul>
<li><code>meta-data</code> with the following contents
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">instance-id</span>: <span style="color:#ae81ff">xenial</span>
<span style="color:#f92672">local-hostname</span>: <span style="color:#ae81ff">xenial</span>
</code></pre></div></li>
<li><code>user-data</code> with the following contents (or anything else based on your requirements)
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e">#cloud-config</span>
<span style="color:#f92672">hostname</span>: <span style="color:#ae81ff">xenial</span>
<span style="color:#75715e"># Any package that you&#39;d like to install in the container</span>
<span style="color:#f92672">packages</span>:
      - <span style="color:#ae81ff">bash</span>
      - <span style="color:#ae81ff">bash-completion</span>
      - <span style="color:#ae81ff">wget</span>
      - <span style="color:#ae81ff">git</span>
      - <span style="color:#ae81ff">make</span>
<span style="color:#75715e"># Any setup commands that you&#39;d like to run at the bootup</span>
<span style="color:#f92672">runcmd</span>:
      - <span style="color:#ae81ff">apt-get -y update</span>
      - <span style="color:#ae81ff">apt-get -y clean</span>
      - <span style="color:#ae81ff">apt-get -y autoremove --purge</span>
<span style="color:#75715e"># for security, if you don&#39;t care, just put it as false</span>
<span style="color:#f92672">disable_root</span>: <span style="color:#66d9ef">true</span>
<span style="color:#75715e"># Additional users that you&#39;d like to provide access to your container after boot</span>
<span style="color:#f92672">users</span>:
      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">testuser</span>
        <span style="color:#f92672">gecos</span>: <span style="color:#ae81ff">TEST USER</span>
        <span style="color:#f92672">lock_passwd</span>: <span style="color:#66d9ef">true</span>
        <span style="color:#f92672">groups</span>: [<span style="color:#ae81ff">sudo, users, admin, adm, audio, cdrom, dialout, floppy, video, plugdev, dip, netdev]</span>
        <span style="color:#f92672">shell</span>: <span style="color:#ae81ff">/bin/bash</span>
        <span style="color:#f92672">sudo</span>: [<span style="color:#e6db74">&#34;ALL=(ALL) NOPASSWD:ALL&#34;</span>]
<span style="color:#75715e"># Setup a dummy password for the additional users and during first login, it&#39;ll ask for a new password</span>
<span style="color:#f92672">chpasswd</span>:
      <span style="color:#f92672">list</span>: |<span style="color:#e6db74">
</span><span style="color:#e6db74">        </span>        <span style="color:#ae81ff">testuser:testuser</span>
<span style="color:#75715e"># Common maintenance options</span>
<span style="color:#f92672">package_upgrade</span>: <span style="color:#66d9ef">true</span>
<span style="color:#f92672">package_update</span>: <span style="color:#66d9ef">true</span>
<span style="color:#f92672">package_reboot_if_required</span>: <span style="color:#66d9ef">true</span>
<span style="color:#f92672">power_state</span>:
      <span style="color:#f92672">delay</span>: <span style="color:#ae81ff">now</span>
      <span style="color:#f92672">mode</span>: <span style="color:#ae81ff">reboot</span>
      <span style="color:#f92672">message</span>: <span style="color:#ae81ff">Rebooting the OS</span>
      <span style="color:#f92672">condition</span>: <span style="color:#ae81ff">if [ -e /var/run/reboot-required ];then exit 0; else exit 1; fi</span>
</code></pre></div></li>
<li><code>network-config</code>, this is optional, only if you want to configure network at boot. This is necessary for me as my setup demands it.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">version</span>: <span style="color:#ae81ff">2</span>
<span style="color:#f92672">ethernets</span>:
  <span style="color:#f92672">host0</span>:
      <span style="color:#f92672">set-name</span>: <span style="color:#ae81ff">host0</span>
      <span style="color:#f92672">addresses</span>:
        - <span style="color:#ae81ff">192.168.30.10</span><span style="color:#ae81ff">/255.255.255.0</span>
      <span style="color:#f92672">gateway4</span>: <span style="color:#ae81ff">192.168.30.1</span>
      <span style="color:#f92672">nameservers</span>:
        <span style="color:#f92672">addresses</span>: [<span style="color:#ae81ff">1.1.1.1</span>, <span style="color:#ae81ff">8.8.8.8</span>, <span style="color:#ae81ff">8.8.4.4</span>]
</code></pre></div></li>
</ul>
</li>
<li>You should now be having the following directory structure</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tree
.
├── ds-identity.cfg
├── nocloud
│   ├── meta-data
│   ├── network-config
│   └── user-data
└── xenial.nspawn
<span style="color:#ae81ff">1</span> directory, <span style="color:#ae81ff">5</span> files
</code></pre></div><h2 id="our-mount-file-for-container---xenialnspawn">Our mount file for container - xenial.nspawn:</h2>
<p>Always have a copy of this file <code>xenial.nspawn</code> stored somewhere, as the container removal leads to deletion of this file. Copy this file to <code>/etc/systemd/nspawn</code> directory.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">Exec</span>]
<span style="color:#75715e"># Writable bind mounts don&#39;t with user namespacing</span>
<span style="color:#a6e22e">PrivateUsers</span>=<span style="color:#a6e22e">pick</span>
[<span style="color:#a6e22e">Files</span>]
<span style="color:#75715e"># these lines should be familiar for those who are using docker</span>
<span style="color:#75715e"># this is a simple read-only volume mount for the cloud-init files</span>
<span style="color:#a6e22e">BindReadOnly</span>=<span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">home</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">user</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">cloud-init</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ds-identity</span>.<span style="color:#a6e22e">cfg</span><span style="color:#960050;background-color:#1e0010">:/</span><span style="color:#a6e22e">etc</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">cloud</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">ds-identity</span>.<span style="color:#a6e22e">cfg</span>
<span style="color:#a6e22e">BindReadOnly</span>=<span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">home</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">user</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">cloud-init</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">nocloud</span><span style="color:#960050;background-color:#1e0010">:/</span><span style="color:#a6e22e">var</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">lib</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">cloud</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">seed</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">nocloud</span>
<span style="color:#a6e22e">PrivateUsersChown</span>=<span style="color:#a6e22e">yes</span>
<span style="color:#75715e"># PrivateUsersChown is an expensive operation according to the documentation</span>
[<span style="color:#a6e22e">Network</span>]
<span style="color:#a6e22e">VirtualEthernet</span>=<span style="color:#a6e22e">yes</span>
<span style="color:#a6e22e">Bridge</span>=<span style="color:#a6e22e">virxen</span>
</code></pre></div><h2 id="lets-fire-up-our-container">Let&rsquo;s fire up our container:</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo systemd-nspawn -D /var/lib/machines/xenial -U -b -M xenial
<span style="color:#75715e"># -b flag means boot, which boots our container</span>
...............System Startup messages.............................
......................Login Page...................................
</code></pre></div><p>You need to wait for sometime, for the cloud-init to complete, then only we can use the <code>testuser</code> created with the config file. You will see the familiar output logs from cloud-vendors. Use the below command to view the system setup and once, it comes to a halt, use the username and password from the cloud-init config file to login to your new container. Voila!!!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo journalctl -M xenial -f
.....................Cloud-Init Output Logs........................
</code></pre></div><h2 id="those-who-want-an-easier-way-out-of-this-setup">Those who want an easier way out of this setup:</h2>
<p>Please use <code>debootsrap</code> as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo mkdir -p /var/lib/machines/<span style="color:#f92672">{</span>any name of your choice<span style="color:#f92672">}</span>
$ sudo debootstrap --arch<span style="color:#f92672">=</span>amd64 jessie /var/lib/machines/<span style="color:#f92672">{</span>any name of your choice<span style="color:#f92672">}</span>/
</code></pre></div><p>If you don&rsquo;t specify any network in the <code>xenial.nspawn</code> file, the container will see all network interfaces of the host and acts like it&rsquo;s an application inside the host using the same ip addresses.</p>
<p>Once, again, some of the steps might be volatile, such as networks, so please make a backup of them if you want to persist. Follow, these tutorials for making them persistent across system reboots.</p>
<ul>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://upcloud.com/community/tutorials/configure-iptables-ubuntu/" target="_blank" rel="noreferrer" >How to configure iptables on Ubuntu</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-using-iptables-on-ubuntu-14-04" target="_blank" rel="noreferrer" >How To Set Up a Firewall Using Iptables on Ubuntu 14.04</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://pupli.net/2019/08/make-iptables-rules-persistent-after-reboot-on-ubuntu-18-04/" target="_blank" rel="noreferrer" >Make iptables rules persistent after reboot on Ubuntu 18.04</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://linuxconfig.org/how-to-make-iptables-rules-persistent-after-reboot-on-linux" target="_blank" rel="noreferrer" >How to make iptables rules persistent after reboot on Linux</a>
</li>
</ul>
<h2 id="problems-that-might-arise-and-solutions">Problems that might arise and solutions:</h2>
<ul>
<li>Network connectivity, please check the container ip adresses and journalctl (in host) for reason of failure and address them. Sometime, tweaking the iptables based on your host setup can help.</li>
<li>Cloud-init some installation failed and needs a fresh start, use <code>sudo cloud-init clean</code> inside the container</li>
<li>Do not use any overlaping ip addresses when using static ip address for the bridge</li>
</ul>
<h2 id="container-management">Container Management:</h2>
<p>After the setup you don&rsquo;t have to use <code>systemd-nspawn</code> at all except certain cases. <code>machinectl</code> is more than sufficient to manage containers.</p>
<ul>
<li>start the container <code>machinectl start {container name}</code></li>
<li>login into the container <code>machinectl login {container name}</code></li>
<li>shell of the container <code>machinectl shell {container name}</code></li>
<li>status of the container <code>machinectl status {container name}</code></li>
<li>reboot the container <code>machinectl reboot {container name}</code></li>
<li>terminate the container <code>machinectl terminate {container name}</code></li>
<li>list running containers <code>machinectl list</code></li>
<li>list available images <code>machinectl list-images</code></li>
</ul>
<p>I have intentionally left out the container resource management as it is easy to follow from the official documentation of @.nspawn from the references.</p>
<h5 id="references">References:</h5>
<ul>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://www.freedesktop.org/software/systemd/man/systemd-nspawn.html" target="_blank" rel="noreferrer" >systemd-nspawn official documentation</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://www.freedesktop.org/software/systemd/man/systemd.nspawn.html" target="_blank" rel="noreferrer" >@.nspawn official documentation</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://blog.selectel.com/systemd-containers-introduction-systemd-nspawn/" target="_blank" rel="noreferrer" >Introduction to systemd-nspawn by Selectel</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://patrickskiba.com/sysytemd-nspawn/2019/02/08/introduction-to-systemd-nspawn.html" target="_blank" rel="noreferrer" >Introduction to systemd-nspawn by Patrick Skiba</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://fntlnz.wtf/post/systemd-nspawn/" target="_blank" rel="noreferrer" >systemd-nspawn - Lorenzo Fontana</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://gist.github.com/zman0900/b2196a5168bbf2c0b14f094a8ca84ab1" target="_blank" rel="noreferrer" >unifi-controller-systemd-nspawn.md</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://gist.github.com/artizirk/0d800be97bcdb35fb7bfd9755208e0e8" target="_blank" rel="noreferrer" >systemd-nspawn container architecture</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://medium.com/@huljar/setting-up-containers-with-systemd-nspawn-b719cff0fb8d" target="_blank" rel="noreferrer" >Setting up containers with systemd-nspawn</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://cloudinit.readthedocs.io/en/latest/topics/network-config-format-v2.html" target="_blank" rel="noreferrer" >Networking Config Version 2 - Cloud Init</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://geekcontainer.wordpress.com/2018/10/05/lxc-container-networkingnat-bridge/" target="_blank" rel="noreferrer" >LXC Container Networking:NAT Bridge</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://wildwolf.name/a-simple-script-to-create-systemd-nspawn-alpine-container/" target="_blank" rel="noreferrer" >A Simple Script to Create systemd-nspawn Alpine Container</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://seanmcgary.com/posts/run-docker-containers-with-systemd-nspawn/" target="_blank" rel="noreferrer" >Run Docker containers with systemd-nspawn</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://opensource.com/article/18/11/systemd-nspawn-system-recovery" target="_blank" rel="noreferrer" >How to use systemd-nspawn for Linux system recovery</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://liolok.github.io/Run-Desktop-Apps-with-systemd-nspawn-Container/" target="_blank" rel="noreferrer" >Run Desktop Apps with systemd-nspawn Container</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://etbe.coker.com.au/2019/12/09/systemd-nspawn-networking/" target="_blank" rel="noreferrer" >systemd-nspawn and Private Networking</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://ramsdenj.com/2016/09/23/containerizing-graphical-applications-on-linux-with-systemd-nspawn.html" target="_blank" rel="noreferrer" >Containerizing Graphical Applications On Linux With systemd-nspawn</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://unix.stackexchange.com/questions/411622/systemd-nspawn-redirect-ports-and-keep-internet" target="_blank" rel="noreferrer" >systemd-nspawn: redirect ports and keep internet</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://copyninja.info/blog/taming_systemd_nsapwn.html" target="_blank" rel="noreferrer" >Taming systemd-nspawn for running containers</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://wiki.archlinux.org/index.php/Systemd-nspawn" target="_blank" rel="noreferrer" >systemd-nspawn Archwiki</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://askubuntu.com/questions/177985/natting-in-ubuntu-server" target="_blank" rel="noreferrer" >NATTING in Ubuntu Server</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://docs.trentsonlinedocs.xyz/lxd_container_home_server_networking_for_dummies/" target="_blank" rel="noreferrer" >LXD Container Home Server Networking For Dummies</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://www.dedoimedo.com/computers/docker-networking.html" target="_blank" rel="noreferrer" >Docker containers networking - Tutorial</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://blog.scottlowe.org/2015/11/09/changing-passwords-cloud-init/" target="_blank" rel="noreferrer" >Changing Passwords with cloud-init</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="https://vitux.com/how-to-configure-networking-with-netplan-on-ubuntu/" target="_blank" rel="noreferrer" >How to configure networking with Netplan on Ubuntu</a>
</li>
<li><a style="text-decoration: none !important;color: red;font-weight: bold;" href="http://tejom.github.io/c/linux/containers/docker/networking/2016/10/08/containers-from-scratch-pt2-networking.html" target="_blank" rel="noreferrer" >Containers From Scratch Pt.2 Networking</a>
</li>
</ul>

            <br />
            <div class="p-3 border-top">
                
                <i class="bi bi-tags-fill"></i>&nbsp;&nbsp;
                
                
                
                <a href="https://mangalakader.github.io/tags/til/" class="tags text-decoration-none text-white">til
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (3)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/systemd/" class="tags text-decoration-none text-white">systemd
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (2)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/nspawn/" class="tags text-decoration-none text-white">nspawn
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (2)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/systemd-nspawn/" class="tags text-decoration-none text-white">systemd-nspawn
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (2)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/linux/" class="tags text-decoration-none text-white">linux
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (4)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/unix/" class="tags text-decoration-none text-white">unix
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (4)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/script/" class="tags text-decoration-none text-white">script
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (3)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/containers/" class="tags text-decoration-none text-white">containers
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (2)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/development/" class="tags text-decoration-none text-white">development
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (2)</a>
                
                
                
            </div>
        </div>
        <div class="container-fluid justify-content-evenly p-0 row g-0">
            <div class="next-post col-lg btn-secondary p-3 text-center">
                
                <a class="link-reverse text-decoration-none text-white" href="https://mangalakader.github.io/post/journey-to-hugo/?ref=footer">
                    <div class="d-inline-flex flex-row align-items-center">
                        <i class="bi bi-arrow-left-circle-fill fs-2"></i>
                        <h5 class="m-0">&nbsp;&nbsp;Journey to Hugo</h5>
                    </div>
                </a>
                
            </div>

            <div class="previous-post col-lg btn-secondary p-3 text-center">
                
                <a class="link-reverse text-decoration-none text-white" href="https://mangalakader.github.io/post/systemd-nspawn-container-musings-part-1/?ref=footer">
                    <div class="d-inline-flex flex-row align-items-center">
                        <h5 class="m-0">systemd-nspawn - Containerization - Part...&nbsp;&nbsp;</h5>
                        <i class="bi bi-arrow-right-circle-fill fs-2"></i>
                    </div>
                </a>
                
            </div>
        </div>
        <footer class="bg-dark bg-dark-gradient">
    <div class="d-flex justify-content-center py-3 container-fluid text-white">
        <a href="https://github.com/mangalakader" target="_blank" class="text-decoration-none" rel="noreferrer">
            <i class="bi-github text-white px-3 fs-2" role="img" aria-label="GitHub"></i>
        </a>
        <a href="https://www.linkedin.com/in/pmkader" target="_blank" class="text-decoration-none" rel="noreferrer">
            <i class="bi-linkedin text-white px-3 fs-2" role="img" aria-label="LinkedIn"></i>
        </a>
        <a href="/index.xml" target="_blank" class="text-decoration-none" rel="noreferrer">
            <i class="bi-rss-fill text-white px-3 fs-2" role="img" aria-label="RSS"></i>
        </a>
    </div>
    <div class="d-flex justify-content-center pb-5 container-fluid text-white">&copy; 2021, Mangala Kader, All rights reserved.</div>
</footer>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link prefetch="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://mangalakader.github.io/css/header.css">

<link rel="stylesheet" href="https://mangalakader.github.io/css/index.css">

<link rel="stylesheet" href="https://mangalakader.github.io/css/footer.css">


<script src="https://mangalakader.github.io/js/index.js" defer></script>


<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1579889,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
