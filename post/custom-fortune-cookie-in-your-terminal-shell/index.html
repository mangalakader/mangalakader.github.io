<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en">
    <head itemscope itemtype="https://mangalakader.github.io">
        <meta name="google-site-verification" content="zbY1XBwjYLe6aeNN808FhPJMrqimMq1LEG2wU8Kot5w" />
<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />
<title itemprop="name">Mangala Kader | Custom Fortune Cookie / Random Tips - Open New Terminal</title>
<meta property="og:title" content="Custom Fortune Cookie / Random Tips - Open New Terminal" />
<meta itemprop="name" content="Custom Fortune Cookie / Random Tips - Open New Terminal" />
<meta name="application-name" content="Custom Fortune Cookie / Random Tips - Open New Terminal" />
<meta property="og:site_name" content="Online Portfolio" />



<meta itemprop="image" content="https://source.unsplash.com/600x900?technology-564" />
<meta property="og:image" content="https://source.unsplash.com/600x900?technology-564" />

<base href="https://mangalakader.github.io/post/custom-fortune-cookie-in-your-terminal-shell/">
<link rel="canonical" href="https://mangalakader.github.io/post/custom-fortune-cookie-in-your-terminal-shell/" itemprop="url" />
<meta name="url" content="https://mangalakader.github.io/post/custom-fortune-cookie-in-your-terminal-shell/" />
<meta property="og:url" content="https://mangalakader.github.io/post/custom-fortune-cookie-in-your-terminal-shell/" />
<meta property="og:locale" content="en">
<meta name="language" content="en">
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

        <meta name="keywords" content="linux, unix, shell, terminal, til" />
        <meta name="description" content="" />
        <meta itemprop="description" content="" />
        <meta property="og:description" content="" />
    </head>
    <body>
        <div class="progress-container fixed-top">
            <span class="progress-bar"></span>
        </div>
        <nav class="slide-in-blurred-top navbar navbar-expand-lg navbar-light bg-transparent fixed-top">
  <div class="container-fluid px-0">
    <a class="navbar-brand logo text-focus-in ms-3 mt-3" href="/">PMK</a>
    <button class="bg-warning rounded-start border-0 mt-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight"><i class="bi bi-chevron-double-left"></i>&nbsp;&nbsp;Menu</button>
  </div>

  <div class="offcanvas offcanvas-end bg-warning bg-warning-gradient" tabindex="-1" data-bs-scroll="true" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel" class="fw-bold">Menu</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="container-fluid p-0">
        <ul class="list-group list-group-flush">
          <a href="/"><li class="list-group-item">Home</li></a>
          <a href="/blog"><li class="list-group-item">Blog</li></a>
          <a href="/tags"><li class="list-group-item">Tags</li></a>
          <a href="/index.xml"><li class="list-group-item">RSS</li></a>
        </ul>
      </div>
    </div>
  </div>
</nav>

        <div id="title" class="container-fluid bg-warning bg-warning-gradient p-5">
            <h2 class="text-dark text-center p-3 p-lg-5">Custom Fortune Cookie / Random Tips - Open New Terminal</h2>
            <h5 class="text-dark text-center">Apr 12, 2022</h5>
        </div>
        <div id="content" class="text-white container-fluid bg-dark bg-dark-gradient p-5 post-container">
            <p>Those who are tired of reading the same old repetitive fortune cookies, you have come to
the right place to learn the magic of configuring dynamic and more useful tips.</p>
<h3 id="prerequisites">Prerequisites:</h3>
<p>Kindly install the following tools from your package manager</p>
<ul>
<li>curl (pull the html page)</li>
<li>html-xml-utils (manipulate html content)</li>
<li>w3m (display text only from html)</li>
</ul>
<h2 id="create-a-bash-function-to-pull-from-your-desired-website">Create a Bash Function to pull from your desired website:</h2>
<p>For educational purposes, I&rsquo;m picking up <code>https://til.hashrocket.com</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -s https://til.hashrocket.com/random | hxnormalize -x | hxselect <span style="color:#e6db74">&#39;div.post__content&#39;</span>
</span></span></code></pre></div><ul>
<li>Use <code>curl</code> to pull a random html page from the website and put it in stdin <code>-s</code> flag</li>
<li><code>hxnormalize</code> pretty prints html content</li>
<li><code>hxselect</code> selects the target with our useful tip</li>
</ul>
<h2 id="in-your-rc-file-bashrc-etc">In your .rc file (bashrc, .etc,.):</h2>
<ul>
<li>Put the function and call it in a bash variable <code>TIP=$(til_function)</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! <span style="color:#e6db74">&#34;</span>$TIP<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  fortune 30% linux 30% beam 10% computers 10% science 10% debian 5% wisdom 5% work
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;</span>$RANDOM_TIP<span style="color:#e6db74">&#34;</span> | w3m -dump -T <span style="color:#e6db74">&#39;text/html&#39;</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;Pulled from https://til.hashrocket.com on </span><span style="color:#66d9ef">$(</span>date +<span style="color:#e6db74">&#39;%d-%m-%Y %H:%M:%S&#39;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><ul>
<li>If the <code>$TIP</code> has no content (no internet connection / timeout), then fallback to local fortune cookies</li>
<li>If <code>$TIP</code> has content, then use <code>w3m</code> to display or render the html content showing only textual content</li>
</ul>

<div class="container-fluid p-2 p-lg-5">
  <img loading="lazy" src="/images/2022-04-12-custom-tip-terminal-shell.png" alt="Custom-Random-Tip-on-Terminal-Shell" class="img-fluid img-thumbnail rounded mx-auto d-block">
</div>

<p>The end result should look like the above screenshot Whenever you open a new
terminal window or tab. Hope you enjoyed the tutorial!</p>

            <br />
            <div class="p-3 border-top">
                
                <i class="bi bi-tags-fill"></i>&nbsp;&nbsp;
                
                
                
                <a href="https://mangalakader.github.io/tags/linux/" class="tags text-decoration-none text-white">linux
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (5)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/unix/" class="tags text-decoration-none text-white">unix
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (5)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/shell/" class="tags text-decoration-none text-white">shell
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (1)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/terminal/" class="tags text-decoration-none text-white">terminal
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (1)</a>
                
                
                , 
                
                <a href="https://mangalakader.github.io/tags/til/" class="tags text-decoration-none text-white">til
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    (4)</a>
                
                
                
            </div>
        </div>
        <div class="container-fluid justify-content-evenly p-0 row g-0">
            <div class="next-post col-lg btn-secondary p-3 text-center">
                
            </div>

            <div class="previous-post col-lg btn-secondary p-3 text-center">
                
                <a class="link-reverse text-decoration-none text-white" href="https://mangalakader.github.io/post/xmpp-mongooseim-ejabberd-erlang-journey-part-4/?ref=footer">
                    <div class="d-inline-flex flex-row align-items-center">
                        <h5 class="m-0">Instant Messaging using erlang and XMPP...&nbsp;&nbsp;</h5>
                        <i class="bi bi-arrow-right-circle-fill fs-2"></i>
                    </div>
                </a>
                
            </div>
        </div>
        <footer class="bg-dark bg-dark-gradient">
    <div class="d-flex justify-content-center py-3 container-fluid text-white">
        <a href="https://github.com/mangalakader" target="_blank" class="text-decoration-none" rel="noreferrer">
            <i class="bi-github text-white px-3 fs-2" role="img" aria-label="GitHub"></i>
        </a>
        <a href="https://www.linkedin.com/in/pmkader" target="_blank" class="text-decoration-none" rel="noreferrer">
            <i class="bi-linkedin text-white px-3 fs-2" role="img" aria-label="LinkedIn"></i>
        </a>
        <a href="/index.xml" target="_blank" class="text-decoration-none" rel="noreferrer">
            <i class="bi-rss-fill text-white px-3 fs-2" role="img" aria-label="RSS"></i>
        </a>
    </div>
    <div class="d-flex justify-content-center pb-5 container-fluid text-white">&copy; 2022, Mangala Kader, All rights reserved.</div>
</footer>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link prefetch="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://mangalakader.github.io/css/header.css">

<link rel="stylesheet" href="https://mangalakader.github.io/css/index.css">

<link rel="stylesheet" href="https://mangalakader.github.io/css/footer.css">


<script src="https://mangalakader.github.io/js/index.js" defer></script>


<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1579889,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
